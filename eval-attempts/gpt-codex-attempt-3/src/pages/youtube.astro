---
import MainLayout from "../layouts/MainLayout.astro";
import FeedList from "../components/FeedList";
import { formatPolishDate, getYoutubeVideos } from "../lib/feeds";
import { site } from "../data/site";

const videos = await getYoutubeVideos(6);
---

<MainLayout title="YouTube | Przeprogramowani" description="Najnowsze filmy z kanału Przeprogramowani na YouTube.">
  <section>
    <p class="text-sm font-semibold uppercase tracking-[0.16em] text-[var(--accent)]">YouTube</p>
    <h1 class="mt-3 text-4xl font-extrabold text-white">Najnowsze filmy</h1>
    <p class="mt-4 max-w-2xl text-soft">
      Praktyczne materiały o programowaniu, narzędziach i pracy developera.
      {videos[0] ? ` Najnowszy film: ${formatPolishDate(videos[0].publishedAt)}.` : ""}
    </p>
    <div class="mt-8">
      <FeedList
        items={videos}
        emptyMessage="Aktualnie nie udało się pobrać filmów. Wejdź bezpośrednio na kanał YouTube."
        ctaLabel="Oglądaj na YouTube"
      />
    </div>
    <a
      href={site.social.youtube}
      target="_blank"
      rel="noreferrer"
      class="mt-8 inline-flex rounded-full border border-white/25 px-5 py-3 text-sm font-semibold text-white transition hover:border-white/60"
    >
      Przejdź do kanału YouTube
    </a>
  </section>
</MainLayout>
