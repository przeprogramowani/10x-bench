---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getLatestPodcastEpisodes } from "../lib/content";

const episodes = await getLatestPodcastEpisodes(12);
---

<BaseLayout
  title="Podcast | Przeprogramowani"
  description="Najnowsze odcinki podcastow Przeprogramowanych i Opanuj.AI."
>
  <section class="frost-card rounded-3xl p-6 sm:p-8">
    <p class="text-sm font-semibold uppercase tracking-wide text-cyan-200">Podcast</p>
    <h1 class="mt-2 text-4xl font-semibold text-slate-100">Ostatnie odcinki</h1>
    <p class="mt-3 max-w-3xl text-sm text-slate-300">
      Lista aktualizuje sie automatycznie na podstawie oficjalnej strony
      <a href="https://przeprogramowani.pl/podcast" class="text-cyan-200 hover:text-cyan-100">
        przeprogramowani.pl/podcast
      </a>.
    </p>
  </section>

  <section class="mt-8 grid gap-4 sm:grid-cols-2 xl:grid-cols-3">
    {
      episodes.map((episode) => (
        <a
          href={episode.url}
          target="_blank"
          rel="noopener noreferrer"
          class="group frost-card overflow-hidden rounded-3xl"
        >
          <img
            src={episode.image}
            alt={episode.title}
            loading="lazy"
            class="aspect-square w-full object-cover transition-transform duration-300 group-hover:scale-[1.03]"
          />
          <div class="space-y-3 p-5">
            <p class="text-xs font-semibold uppercase tracking-wide text-cyan-200">
              {episode.show} Â· {episode.duration}
            </p>
            <h2 class="text-base font-semibold text-slate-100">{episode.title}</h2>
            <p class="text-sm text-slate-300">{episode.description}</p>
          </div>
        </a>
      ))
    }
  </section>
</BaseLayout>
