---
import MediaGrid from "../components/MediaGrid";
import SiteLayout from "../layouts/SiteLayout.astro";
import { getLatestPodcastEpisodes, getLatestYouTubeVideos } from "../lib/przeprogramowani";

const [podcasts, videos] = await Promise.all([
  getLatestPodcastEpisodes(3),
  getLatestYouTubeVideos(3),
]);
---

<SiteLayout
  title="Przeprogramowani | Kursy, Podcast i YouTube"
  description="Nowoczesna platforma edukacyjna: O nas, podcast, YouTube oraz kursy Opanuj Frontend, Opanuj TypeScript i 10xDevs."
>
  <section class="grid gap-8 rounded-3xl border border-white/10 bg-slate-900/50 p-7 shadow-2xl shadow-cyan-950/20 lg:grid-cols-[1.2fr_0.8fr] lg:p-10">
    <div>
      <p class="inline-flex items-center rounded-full border border-orange-300/30 bg-orange-400/10 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-orange-200">
        Nowość: 10xDevs
      </p>
      <h1 class="mt-5 font-heading text-4xl font-extrabold leading-tight sm:text-5xl">
        Programuj z AI i buduj przewagę jako nowoczesny developer.
      </h1>
      <p class="mt-5 max-w-2xl text-lg text-slate-300">
        Przeprogramowani to kursy, podcast i materiały wideo o praktycznym software engineeringu.
        Skupiamy się na realnych projektach, nowoczesnym frontendzie, TypeScript i wykorzystaniu Generative AI.
      </p>
      <div class="mt-7 flex flex-wrap gap-3">
        <a
          class="rounded-xl bg-orange-500 px-5 py-3 text-sm font-bold text-white transition hover:bg-orange-400"
          href="https://10xdevs.pl"
          target="_blank"
          rel="noopener noreferrer"
        >
          Przejdź do 10xDevs
        </a>
        <a class="rounded-xl border border-white/20 px-5 py-3 text-sm font-semibold hover:bg-white/5" href="/o-nas">
          Poznaj nas lepiej
        </a>
      </div>
    </div>

    <div class="space-y-3 rounded-2xl border border-white/10 bg-black/20 p-5">
      <h2 class="font-heading text-2xl font-bold">Programy edukacyjne</h2>
      <a class="course-card" href="https://opanujfrontend.pl" target="_blank" rel="noopener noreferrer">
        <strong>Opanuj Frontend</strong>
        <span>Kompletny system nauki nowoczesnego frontendu.</span>
      </a>
      <a class="course-card" href="https://www.opanujtypescript.pl" target="_blank" rel="noopener noreferrer">
        <strong>Opanuj TypeScript</strong>
        <span>Type-safe development od podstaw po zaawansowane wzorce.</span>
      </a>
      <a class="course-card" href="https://10xdevs.pl" target="_blank" rel="noopener noreferrer">
        <strong>10xDevs</strong>
        <span>Praktyczne workflow programisty AI-first.</span>
      </a>
    </div>
  </section>

  <section class="mt-14 space-y-6">
    <div class="flex items-end justify-between gap-4">
      <div>
        <h2 class="font-heading text-3xl font-bold">Podcast</h2>
        <p class="text-slate-300">Ostatnie odcinki z oficjalnej strony Przeprogramowanych.</p>
      </div>
      <a href="/podcast" class="text-sm font-semibold text-cyan-200 hover:text-cyan-100">Zobacz więcej</a>
    </div>

    <MediaGrid
      items={podcasts.map((episode) => ({
        title: episode.title,
        href: episode.url,
        image: episode.image,
        meta: episode.duration,
        excerpt: episode.description,
      }))}
    />
  </section>

  <section class="mt-14 space-y-6">
    <div class="flex items-end justify-between gap-4">
      <div>
        <h2 class="font-heading text-3xl font-bold">YouTube</h2>
        <p class="text-slate-300">Najnowsze materiały wideo i live'y.</p>
      </div>
      <a href="/youtube" class="text-sm font-semibold text-cyan-200 hover:text-cyan-100">Zobacz więcej</a>
    </div>

    <MediaGrid
      items={videos.map((video) => ({
        title: video.title,
        href: video.url,
        image: video.thumbnail,
      }))}
    />
  </section>
</SiteLayout>
