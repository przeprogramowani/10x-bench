---
import type { Video } from "../data/videos";

interface Props {
  video: Video;
}

const { video } = Astro.props;
const youtubeUrl = `https://www.youtube.com/watch?v=${video.youtubeId}`;
const thumbnailUrl = `https://img.youtube.com/vi/${video.youtubeId}/mqdefault.jpg`;
---

<a
  href={youtubeUrl}
  target="_blank"
  rel="noopener noreferrer"
  class="group block overflow-hidden rounded-xl border border-surface-700/50 bg-surface-800/50 transition-all hover:-translate-y-1 hover:border-surface-600/50 hover:shadow-lg"
>
  <!-- Thumbnail -->
  <div class="relative aspect-video bg-surface-700">
    <img
      src={thumbnailUrl}
      alt={video.title}
      class="h-full w-full object-cover transition-transform group-hover:scale-105"
      loading="lazy"
    />
    <div class="absolute bottom-2 right-2 rounded bg-black/80 px-1.5 py-0.5 text-xs font-medium text-white">
      {video.duration}
    </div>
    <!-- Play overlay -->
    <div class="absolute inset-0 flex items-center justify-center bg-black/0 transition-colors group-hover:bg-black/20">
      <svg
        class="h-12 w-12 text-white/0 transition-all group-hover:text-white/90"
        fill="currentColor"
        viewBox="0 0 24 24"
      >
        <path d="M8 5v14l11-7z" />
      </svg>
    </div>
  </div>

  <!-- Info -->
  <div class="p-4">
    <h3 class="font-semibold text-white line-clamp-2 transition-colors group-hover:text-primary-400">
      {video.title}
    </h3>
    <p class="mt-2 text-sm text-slate-400 line-clamp-2">{video.description}</p>
    <div class="mt-3 flex flex-wrap items-center gap-2">
      <span class="text-xs text-slate-500">{video.date}</span>
      {video.tags.map((tag) => (
        <span class="rounded-full bg-surface-700/50 px-2 py-0.5 text-xs text-slate-400">{tag}</span>
      ))}
    </div>
  </div>
</a>
