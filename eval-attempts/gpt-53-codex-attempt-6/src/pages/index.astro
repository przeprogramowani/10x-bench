---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { courses } from '@/lib/site-data';
import { formatDatePl } from '@/lib/format';
import { getLatestPodcastEpisodes, getLatestYouTubeVideos } from '@/lib/feeds';

const [latestEpisodes, latestVideos] = await Promise.all([
  getLatestPodcastEpisodes(3),
  getLatestYouTubeVideos(3),
]);
---

<BaseLayout
  title="Przeprogramowani.pl - Szersze spojrzenie na programowanie"
  description="Nowoczesna platforma Przeprogramowani: kursy, podcast i YouTube dla ambitnych developerów."
  pathname="/"
>
  <section class="container-shell pb-20 pt-14 sm:pb-24 sm:pt-20">
    <div class="glass-card fade-slide overflow-hidden p-8 sm:p-12">
      <div class="grid items-center gap-10 lg:grid-cols-[1.2fr_1fr]">
        <div class="space-y-6">
          <span class="inline-flex rounded-full border border-cyan-200/40 bg-cyan-300/12 px-4 py-1.5 text-xs font-bold uppercase tracking-[0.12em] text-cyan-100">
            Hero programu: 10xDevs
          </span>
          <h1 class="section-title text-4xl font-extrabold leading-tight sm:text-5xl lg:text-6xl">
            Programiści nowej generacji
            <span class="gradient-text"> uczą się razem z nami.</span>
          </h1>
          <p class="max-w-2xl text-lg leading-relaxed text-slate-300">
            Przeprogramowani to praktyczne szkolenia i materiały dla developerów. Rozwijaj frontend,
            TypeScript i workflow z AI dzięki programom tworzonym przez praktyków.
          </p>
          <div class="flex flex-wrap gap-3">
            <a
              href="https://10xdevs.pl"
              target="_blank"
              rel="noreferrer"
              class="rounded-full border border-cyan-100/45 bg-cyan-300/15 px-6 py-3 text-sm font-bold text-cyan-50 transition hover:border-cyan-100 hover:bg-cyan-200/25"
            >
              Dołącz do 10xDevs
            </a>
            <a
              href="/o-nas"
              class="rounded-full border border-white/20 bg-white/6 px-6 py-3 text-sm font-semibold text-white transition hover:border-white/45 hover:bg-white/14"
            >
              Poznaj nas
            </a>
          </div>
        </div>

        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-1">
          <article class="rounded-2xl border border-cyan-100/20 bg-cyan-200/10 p-5">
            <p class="text-sm uppercase tracking-[0.08em] text-cyan-100/90">Podcast</p>
            <p class="mt-2 text-2xl font-bold text-white">Przeprogramowani</p>
            <p class="mt-1 text-sm text-slate-300">Szersze spojrzenie na programowanie i rozwój kariery.</p>
          </article>
          <article class="rounded-2xl border border-blue-100/20 bg-blue-200/10 p-5">
            <p class="text-sm uppercase tracking-[0.08em] text-blue-100/90">YouTube</p>
            <p class="mt-2 text-2xl font-bold text-white">Nowe filmy co tydzień</p>
            <p class="mt-1 text-sm text-slate-300">Analizy narzędzi, workflow i technologii dla devów.</p>
          </article>
        </div>
      </div>
    </div>
  </section>

  <section class="container-shell pb-20 sm:pb-24">
    <div class="mb-8 flex items-end justify-between gap-4">
      <div>
        <p class="text-sm uppercase tracking-[0.12em] text-cyan-200/90">Kursy</p>
        <h2 class="section-title mt-2 text-3xl font-bold text-white sm:text-4xl">Ścieżki rozwoju</h2>
      </div>
    </div>

    <div class="grid gap-4 md:grid-cols-3">
      {
        courses.map((course, index) => (
          <article
            class={`glass-card fade-slide overflow-hidden p-6 [animation-delay:${index * 90}ms]`}
          >
            <div class={`mb-4 inline-flex rounded-full bg-gradient-to-r ${course.accent} px-3 py-1 text-xs font-semibold text-white/95`}>
              {course.tag}
            </div>
            <h3 class="section-title text-2xl font-bold text-white">{course.name}</h3>
            <p class="mt-3 text-sm leading-relaxed text-slate-300">{course.description}</p>
            <a
              href={course.href}
              target="_blank"
              rel="noreferrer"
              class="mt-6 inline-flex rounded-full border border-white/20 px-4 py-2 text-sm font-medium text-white transition hover:border-cyan-100/60 hover:bg-cyan-200/10"
            >
              Zobacz program
            </a>
          </article>
        ))
      }
    </div>
  </section>

  <section class="container-shell pb-20 sm:pb-24">
    <div class="grid gap-6 lg:grid-cols-2">
      <article class="glass-card p-6 sm:p-7">
        <div class="mb-5 flex items-center justify-between">
          <h2 class="section-title text-2xl font-bold text-white">Najnowszy podcast</h2>
          <a href="/podcast" class="text-sm font-semibold text-cyan-100">Zobacz wszystkie</a>
        </div>

        <div class="space-y-4">
          {
            latestEpisodes.map((episode) => (
              <a href={episode.link} target="_blank" rel="noreferrer" class="block rounded-xl border border-white/10 bg-white/3 p-4 transition hover:border-cyan-200/40 hover:bg-cyan-100/8">
                <p class="text-xs text-slate-300">{formatDatePl(episode.publishedAt)}</p>
                <h3 class="mt-1 card-title text-base font-semibold text-white">{episode.title}</h3>
              </a>
            ))
          }
        </div>
      </article>

      <article class="glass-card p-6 sm:p-7">
        <div class="mb-5 flex items-center justify-between">
          <h2 class="section-title text-2xl font-bold text-white">Najnowsze na YouTube</h2>
          <a href="/youtube" class="text-sm font-semibold text-cyan-100">Zobacz wszystkie</a>
        </div>

        <div class="space-y-4">
          {
            latestVideos.map((video) => (
              <a href={video.link} target="_blank" rel="noreferrer" class="block rounded-xl border border-white/10 bg-white/3 p-4 transition hover:border-cyan-200/40 hover:bg-cyan-100/8">
                <p class="text-xs text-slate-300">{formatDatePl(video.publishedAt)}</p>
                <h3 class="mt-1 card-title text-base font-semibold text-white">{video.title}</h3>
              </a>
            ))
          }
        </div>
      </article>
    </div>
  </section>
</BaseLayout>
