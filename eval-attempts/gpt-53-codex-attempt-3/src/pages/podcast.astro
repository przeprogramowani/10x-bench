---
import MainLayout from '../layouts/MainLayout.astro';
import { getPrzeprogramowaniData } from '../lib/przeprogramowani';

const data = await getPrzeprogramowaniData();
---

<MainLayout
  title="Podcast | Przeprogramowani.pl"
  description="Najnowsze odcinki podcastów Przeprogramowani o programowaniu, AI i technologii."
  active="podcast"
>
  <section class="reveal space-y-4">
    <p class="section-kicker">Podcast</p>
    <h1 class="font-display text-4xl font-extrabold text-[var(--ink)] md:text-5xl">Najnowsze odcinki</h1>
    <p class="max-w-3xl text-lg text-[var(--ink-soft)]">{data.podcast.description}</p>
  </section>

  <section class="reveal mt-10 grid gap-5 sm:grid-cols-2 xl:grid-cols-3" style="animation-delay: 100ms;">
    {
      data.podcast.episodes.map((episode) => (
        <article class="card-lift flex h-full flex-col overflow-hidden rounded-3xl border border-white bg-white shadow-[0_18px_48px_rgba(6,46,38,0.08)]">
          <img src={episode.image} alt={episode.title} class="aspect-square w-full object-cover" loading="lazy" />
          <div class="flex flex-1 flex-col p-5">
            <p class="text-xs font-bold uppercase tracking-[0.14em] text-[var(--brand)]">{episode.duration}</p>
            <h2 class="mt-2 line-clamp-2 font-display text-xl font-bold text-[var(--ink)]">{episode.title}</h2>
            <p class="mt-3 line-clamp-3 text-sm text-[var(--ink-soft)]">{episode.description}</p>
            <a
              href={episode.href}
              target="_blank"
              rel="noopener noreferrer"
              class="mt-5 inline-flex w-max rounded-full border border-[var(--line)] px-4 py-2 text-xs font-bold uppercase tracking-[0.14em] text-[var(--ink)] transition hover:bg-[var(--surface-alt)]"
            >
              Słuchaj odcinka
            </a>
          </div>
        </article>
      ))
    }
  </section>
</MainLayout>
