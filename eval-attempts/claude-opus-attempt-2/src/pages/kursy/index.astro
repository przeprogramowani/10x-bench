---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Container from '@/components/shared/Container.astro';
import SectionHeading from '@/components/shared/SectionHeading.astro';
import Badge from '@/components/shared/Badge.astro';
import Button from '@/components/shared/Button.astro';
import { courses } from '@/data/courses';
---

<BaseLayout
  seo={{
    title: 'Kursy',
    description:
      'Kursy programowania Przeprogramowani — 10xDevs 3.0, Opanuj Frontend AI Edition, Opanuj TypeScript Frontend Pro. Praktyczna wiedza dla developerów.',
  }}
>
  <section class="py-20 sm:py-28">
    <Container>
      <SectionHeading
        title="Nasze kursy"
        subtitle="Wybierz kurs dopasowany do Twoich celów. Każdy kurs to praktyczna wiedza, projekty i wsparcie społeczności."
      />

      <div class="space-y-8">
        {courses.map((course) => (
          <div
            class:list={[
              'relative rounded-2xl border p-6 sm:p-8 transition-colors',
              course.featured
                ? 'border-brand-primary/50 bg-gradient-to-r from-brand-primary/5 to-surface-raised'
                : 'border-surface-border bg-surface-raised hover:border-brand-primary/30',
            ]}
          >
            {course.featured && (
              <Badge variant="brand" class="absolute -top-3 left-6">Wyróżniony</Badge>
            )}

            <div class="flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between">
              <div class="flex-1">
                <h2 class="text-2xl font-bold text-text-primary">{course.title}</h2>
                <p class="mt-1 text-brand-primary font-medium">{course.subtitle}</p>
                <p class="mt-3 text-text-secondary max-w-2xl">{course.description}</p>

                <div class="mt-4 flex flex-wrap gap-4 text-sm text-text-muted">
                  {course.studentsCount && <span>{course.studentsCount} absolwentów</span>}
                  <span>{course.modules.length} modułów</span>
                  {course.nextEdition && (
                    <Badge variant="success">Następna edycja: {course.nextEdition}</Badge>
                  )}
                </div>
              </div>

              <div class="flex flex-col items-start gap-3 lg:items-end">
                <div>
                  <span class="text-3xl font-bold text-text-primary">{course.price}</span>
                  {course.originalPrice && (
                    <span class="ml-2 text-text-muted line-through">{course.originalPrice}</span>
                  )}
                </div>
                <Button href={`/kursy/${course.slug}`} variant={course.featured ? 'primary' : 'secondary'}>
                  Zobacz szczegóły
                </Button>
              </div>
            </div>
          </div>
        ))}
      </div>
    </Container>
  </section>
</BaseLayout>
