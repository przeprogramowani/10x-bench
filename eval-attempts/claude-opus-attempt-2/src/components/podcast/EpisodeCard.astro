---
import type { PodcastEpisode } from '@/types';

interface Props {
  episode: PodcastEpisode;
}

const { episode } = Astro.props;

const dateFormatted = new Date(episode.date).toLocaleDateString('pl-PL', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<div class="flex flex-col rounded-xl border border-surface-border bg-surface-raised p-6 transition-colors hover:border-brand-primary/30">
  <div class="flex items-center justify-between">
    <span class="flex h-10 w-10 items-center justify-center rounded-full bg-brand-primary/10 text-sm font-bold text-brand-primary">
      #{episode.number}
    </span>
    <div class="flex items-center gap-3 text-xs text-text-muted">
      <span>{episode.duration}</span>
      <span>{dateFormatted}</span>
    </div>
  </div>

  <h3 class="mt-4 text-lg font-semibold text-text-primary leading-snug">{episode.title}</h3>
  <p class="mt-2 flex-1 text-sm text-text-secondary">{episode.description}</p>

  <div class="mt-4 flex gap-3">
    <a
      href={episode.spotifyUrl}
      target="_blank"
      rel="noopener noreferrer"
      class="inline-flex items-center gap-1.5 rounded-lg bg-[#1DB954]/10 px-3 py-1.5 text-xs font-medium text-[#1DB954] transition-colors hover:bg-[#1DB954]/20"
    >
      Spotify
    </a>
    <a
      href={episode.applePodcastsUrl}
      target="_blank"
      rel="noopener noreferrer"
      class="inline-flex items-center gap-1.5 rounded-lg bg-[#9B59B6]/10 px-3 py-1.5 text-xs font-medium text-[#9B59B6] transition-colors hover:bg-[#9B59B6]/20"
    >
      Apple Podcasts
    </a>
    {episode.youtubeUrl && (
      <a
        href={episode.youtubeUrl}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-1.5 rounded-lg bg-[#FF0000]/10 px-3 py-1.5 text-xs font-medium text-[#FF0000] transition-colors hover:bg-[#FF0000]/20"
      >
        YouTube
      </a>
    )}
  </div>
</div>
